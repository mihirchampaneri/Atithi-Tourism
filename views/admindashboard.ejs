<%- include('./partials/header') %> <% if(success.length>0){ %>
  <div
    class="absolute z-[1] top-5 left-1/2 -translate-x-1/2 -translate-y-1/2 p-3 rounded-md bg-blue-500"
  >
    <span class="inline-block mt-1 mb-1 text-white"> <%- success %> </span>
  </div>
  <% } %>

  
  
  <div class="min-h-screen flex flex-col">
    <div class="bg-slate-100 bg-cover px-10 py-20 flex flex-grow">
      <%- include('./partials/sidebar') %>
      
      <main class="w-5/6 bg-white p-8 shadow ml-4 rounded-md">
        <h2 class="text-xl font-bold mb-4">Welcome <span class="text-blue-500">ADMIN</span> !</h2>
        <div class="flex flex-wrap items-center gap-4">
          <!-- Views Card -->
          <div class="bg-blue-100 hover:bg-blue-200 rounded-lg p-6 w-64">
              <div class="text-gray-600">Active Users:</div>
              <div class="text-3xl font-bold text-gray-800"><%= usercount %></div>
          </div>
          <!-- Visits Card -->
          <div class="bg-blue-50 hover:bg-blue-100 rounded-lg p-6 w-64">
              <div class="text-gray-600">Total Trips:</div>
              <div class="text-3xl font-bold text-gray-800"><%= tripcount %></div>
          </div>
          <!-- New Users Card -->
          <div class="bg-blue-100 hover:bg-blue-200 rounded-lg p-6 w-64">
              <div class="text-gray-600">Total Hotels:</div>
              <div class="text-3xl font-bold text-gray-800"><%= hotelcount %></div>
          </div>
          <!-- Active Users Card -->
          <div class="bg-blue-50 hover:bg-blue-100 rounded-lg p-6 w-64">
              <div class="text-gray-600">Total Bookings:</div>
              <div class="text-3xl font-bold text-gray-800"><%= bookingcount %></div>
          </div>

          <div class="bg-blue-100 hover:bg-blue-200 rounded-lg p-6 w-64">
            <div class="text-gray-600">Total Reviews:</div>
            <div class="text-3xl font-bold text-gray-800"><%= reviewcount %></div>
          </div>

      <head>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
      </head>
      <body class="bg-gray-50 p-6">
        <div class="grid grid-cols-1 grid-cols-2 gap-6">
          <!-- Traffic by Device -->
          <div class="bg-white p-4 rounded-lg shadow">
            <h2 class="text-lg font-semibold mb-4">Traffic by Device</h2>
            <canvas id="deviceChart"></canvas>
          </div>
      
          <!-- Traffic by Location -->
          <div class="bg-white p-4 shadow">
            <h2 class="text-lg font-semibold mb-4">Traffic by Location</h2>
            <div class="flex items-center">
              <canvas id="locationChart" class="w-fit h-fit"></canvas>
              <ul class="ml-4 text-sm mr-8">
                <li><span class="inline-block w-3 h-3 bg-green-300 mr-2"></span>United States - 38.5%</li>
                <li><span class="inline-block w-3 h-3 bg-purple-300 mr-2"></span>Canada - 22.5%</li>
                <li><span class="inline-block w-3 h-3 bg-black mr-2"></span>Mexico - 30.8%</li>
                <li><span class="inline-block w-3 h-3 bg-blue-300 mr-2"></span>Other - 8.1%</li>
              </ul>
            </div>
          </div>
        </div>
      
        <script>
          // Bar Chart for Traffic by Device
          new Chart(document.getElementById('deviceChart'), {
            type: 'bar',
            data: {
              labels: ['Linux', 'Mac', 'iOS', 'Windows', 'Android', 'Other'],
              datasets: [{
                label: 'Traffic',
                data: [80, 700, 390, 500, 600, 800],
                backgroundColor: ['#A3E635', '#C4B5FD', '#27272A', '#7DD3FC', '#818CF8', '#6EE7B7'],
              }]
            },
            options: {
              scales: {
                y: {
                  beginAtZero: true
                }
              }
            }
          });
      
          // Donut Chart for Traffic by Location
          new Chart(document.getElementById('locationChart'), {
            type: 'doughnut',
            data: {
              labels: ['United States', 'Canada', 'Mexico', 'Other'],
              datasets: [{
                data: [38.5, 22.5, 30.8, 8.1],
                backgroundColor: ['#86EFAC', '#C4B5FD', '#27272A', '#93C5FD'],
                hoverOffset: 4
              }]
            },
            options: {
              cutout: '80%',
              responsive: false,
              maintainAspectRatio: false,

            }
          });
        </script>
      </body>
      
      </main>
    </div>
  </div>
  <%- include('./partials/footer') %>
  