<%- include('./partials/header') %> <% if(success.length>0){ %>
<div
  class="absolute top-5 z-[1] left-1/2 -translate-x-1/2 -translate-y-1/2 p-3 rounded-md bg-blue-500"
>
  <span class="inline-block mt-1 mb-1 text-white"> <%- success %> </span>
</div>
<% } %>

<div class="bg-neutral-100 w-full h-full flex px-10 py-10">
  <!-- <div
    class="w-[20%] h-full fixed top-[8rem] left-10 px-4 py-10 overflow-y-auto bg-white"
  >
    <div class="flex items-center gap-2">
      <h3>sort by</h3>
      <form action="/shop">
        <select class="border-[1px] px-2 py-1" name="sortby" id="">
          <option value="popular">Popular</option>
          <option value="newest">Newest</option>
        </select>
      </form>
    </div>
    <div class="flex flex-col mt-10">
      <a class="block w-fit mb-2" href="/shop">All Trips</a>
      <a class="block w-fit mb-2" href="">New Collection</a>
      <a class="block w-fit mb-2" href="">Discounted trips</a>
    </div>
    <div class="mt-16">
      <a class="block w-fit mb-2" href="">Filter by :</a>
      <a class="block w-fit mb-2" href="">Availability</a>
      <a class="block w-fit mb-2" href="">Discount</a>
    </div>
  </div> -->
  <%- include('./partials/sidemenu') %>
  <!-- Content Section -->
  <!-- <div
    class="w-[80%] ml-[20%] h-full overflow-y-auto p-8"
  >
  <h2 class="text-3xl top-[2rem] font-bold mb-4">Book Trip Now:</h2>
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
    <% trips.forEach(function(trip){ %>
    <div class="w-full h-auto hover:shadow-2xl">
      <div
        class="w-full h-52 flex items-center justify-center bg-[<%= trip.bgcolor %>] rounded-t-lg overflow-hidden relative group"
        style="position: relative"
      >
        <img
          class="w-[95%] h-[95%] object-cover hover:scale-105 hover:transition-all hover:duration-[1s] hover:ease rounded-lg"
          src="data:image/jpeg;base64,<%= trip.image.toString('base64') %>"
          alt=""
        />
        
        <div
          class="absolute left-[-55px] top-[15px] w-[170px] transform -rotate-45 bg-red-600 text-center text-white font-semibold py-1"
        >
          <%= trip.discount %>%* off
        </div>

        
        <div
          class="absolute bottom-0 right-0 bg-red-500 text-white px-2 py-1 text-sm font-extrabold rounded-tl-lg shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300"
        >
          <%= trip.popularity %> ⭐
        </div>
      </div>

      <div
        class="flex justify-between bg-[<%= trip.panelcolor %>] items-center px-4 py-4 text-[<%= trip.textcolor %>] rounded-b-lg"
      >
        <div>
          <h3><%= trip.name %></h3>
          <h4>₹ <%= trip.price %></h4>
        </div>
        <a
          class="w-15 h-7 flex items-center justify-center rounded-full"
          href="/trip/<%= trip._id %>"
        >
          <button
            class="px-3 py-2 border-2 border-white-500 text-white-500 rounded-md hover:bg-[<%= trip.bgcolor %>] hover:text-blue-500 focus:outline-none"
          >
            Book Now
          </button>
        </a>
      </div>
    </div>
    <% }) %>
  </div>
  </div> -->
  <div class="p-4 bg-gray-800 h-full mb-8 rounded-lg mt-10 sm:ml-64">
    <div class=" border-2 border-line border-gray-200 rounded-lg h-full w-[85em] dark:border-gray-700 mt-4">
       <div class="mb-4">
        <h2 class="text-3xl text-white top-[2rem] mt-4 ml-[9.5rem] font-bold ">Book Trip Now:</h2> 
       </div>
       <div class="flex flex-col items-center justify-center w-full h-full pt-4 mb-4 ">
        <% trips.forEach(function(trip){ %>
          <div class="relative mb-5 w-4/5 h-[200px] bg-white/80 border-2 border border-grey-200 rounded-lg hover:transform scale-[440px] hover:border-indigo-500 hover:shadow-md hover:shadow-blue-500/50">
            <div class="absolute top-[22px] left-[409px] font-bold text-2xl text-gray-800">
              <%= trip.name %>
            </div>
          
            <div class="absolute top-[56px] left-[410px]">
              <svg width="200" height="1" viewBox="0 0 200 1" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M0 0.5H200" stroke="#6e7b91" />
              </svg>
            </div>
          
            <div class="absolute top-[65px] left-[409px] text-[11px] text-gray-600 leading-[18px] bg-blue-200 ring-1 ring-blue-800 text-blue-800 text-xs font-medium font-semibold me-2 px-2.5 py-0.5 rounded-full ">
              <!-- 3 guests • 1 bedroom • 1 bath<br /> -->
              <%= trip.discount %>% Off
            </div>
          
            <div class="absolute flex font-semibold text-sm text-gray-800 top-[95px] left-[409px]">
              <% for (let i = 0; i < 5; i++) { %>
                <svg width="18" height="17" viewBox="0 0 18 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="mr-1">
                  <path
                    d="M7.49114 1.96686C7.67947 1.51405 8.32094 1.51406 8.50927 1.96687L10.0583 5.69126C10.1377 5.88215 10.3173 6.01258 10.5233 6.02911L14.5441 6.35145C15.033 6.39064 15.2312 7.00069 14.8587 7.31971L11.7953 9.94391C11.6383 10.0784 11.5697 10.2894 11.6177 10.4905L12.5537 14.4141C12.6675 14.8912 12.1485 15.2682 11.73 15.0126L8.2876 12.91C8.1112 12.8022 7.88927 12.8022 7.71287 12.91L4.27047 15.0126C3.85196 15.2682 3.33301 14.8912 3.4468 14.4141L4.38272 10.4905C4.4307 10.2894 4.36212 10.0784 4.20511 9.94391L1.14168 7.31971C0.769236 7.00069 0.967456 6.39064 1.4563 6.35145L5.4771 6.02911C5.68318 6.01258 5.8627 5.88215 5.9421 5.69126L7.49114 1.96686Z"
                    fill="<%= i < trip.popularity ? 'url(#paint0_linear_1_271)' : 'none' %>"
                    stroke="<%= i < trip.popularity ? '#6e7b91' : '#6e7b91' %>"
                  />
                  <defs>
                    <linearGradient id="paint0_linear_1_271" x1="0.948242" y1="1.62726" x2="15.0522" y2="1.62726" gradientUnits="userSpaceOnUse">
                      <stop offset="0.4999" stop-color="#636AE8" />
                      <stop offset="0.5" stop-color="#636AE8" />
                    </linearGradient>
                  </defs>
                </svg>
              <% } %>
            </div>
            
          
            <div class="absolute top-[10px] right-0 mr-4 text-right">
              <span class="text-base font-bold text-gray-800">₹<%= trip.price %></span>
            </div>
          
            <div class="absolute top-0 left-0 m-1 w-[375px] h-[190px]  overflow-hidden">
              <img
                class="absolute top-0 left-0 p-1 w-[300px] h-[185px] rounded-2xl "
                src="data:image/jpeg;base64,<%= trip.image.toString('base64') %>"
                alt="Trip Image"
              />
              <img
                class="absolute top-[3px] left-[322px] w-[50px] h-[50px] rounded-2xl border border-gray-300"
                src="data:image/jpeg;base64,<%= trip.image.toString('base64') %>"
                alt="Trip Image 2"
              />
              <img
                class="absolute top-[69px] left-[322px] w-[50px] h-[50px] rounded-2xl border border-gray-300"
                src="data:image/jpeg;base64,<%= trip.image.toString('base64') %>"
                alt="Trip Image 3"
              />
              <img
                class="absolute top-[135px] left-[322px] w-[50px] h-[50px] rounded-2xl border border-gray-300"
                src="data:image/jpeg;base64,<%= trip.image.toString('base64') %>"
                alt="Trip Image 4"
              />
            </div>
            <div class="right-2 bottom-2 absolute bg-[#636ae8] rounded-md border border-black/0 justify-center items-center inline-flex overflow-hidden">
              <a href="/trip/<%= trip._id %>">
              <button class="px-3 py-2 border-2 border-white-500 text-white-500 rounded-md hover:bg-blue-200 hover:text-blue-500 focus:outline-none">Book Now</button>
            </a>
            </div>
          </div>
          <% }) %>
       </div>
    </div>
 </div>
</div>

<%- include('./partials/footer') %>
